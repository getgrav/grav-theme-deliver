/*!
  jQuery Slideme 2 plugin
  @name jquery.slideme2.js
  @author Luigi Ferraresi (luigi.ferraresi@gmail.com)
  @version 2.21.36
  @date 2014/12/16
  @category jQuery Plugin
  @copyright (c)2014 Luigi Ferraresi (http://slideme.luigiferraresi.it)
*/
!function(t){var e,i,s,n=["init","animate","arrowClicked","arrowTaped","beforeScrollTo","checkArrows","clearFromClone","createArrows","createNumbers","createPagination","createThumbs","css3Supports","destroy","getBrowser","getInfinitePaginationIndex","getNativeTouchScrollNext","getNext","getNextById","getReadyForNewAnimation","getTotalSlides","inquire","jumpTo","jumpToId","onAnimationEnded","onOrientationchange","onResize","onSnapEnd","onSwipeEnd","onTouchend","onWindowScroll","play","playTo","playToId","redraw","removeAutoslide","resetAutoslide","restoreStartOrder","scrollTo","setAfter","setAutoslide","setBefore","setCurrent","setInfiniteSlides","setNext","setPaginationCurrent","setSibling","setStartOrder","setSwipe","setSwipeEnd","setSwipeMove","setSwipeStart","snapTo","stop","swipeSupport","swipeTo","update"];s=function(t,e){return function(){return t.apply(e,arguments)}},i={arrows:!1,autoslide:!1,autoslideHoverStop:!0,css3:!0,current:0,defaultWrapper:".slideme",direction:1,interval:1e3,itemsForSlide:1,labels:{prev:"",next:""},loop:!1,nativeTouchScroll:!1,totalSlides:0,onCreatedCallback:"",onEndCallback:"",onInquire:"",onStartCallback:"",pagination:"",ready:!1,resizable:{width:"",height:""},thumbs:{width:50,height:40},transition:"slide",speed:500,swipe:!0},e=function(e){function o(e){this.settings=t.extend({},i,e);for(var o=0,r=n.length;o<r;o++){var a=n[o];this[a]=s(this[a],this)}}return t.extend(o.prototype,{init:function(e){if(this.dom={},this.dom.slideme_container=t(e).addClass("slideme_container"),this.dom.slideme=this.dom.slideme_container.find(this.settings.defaultWrapper),!this.dom.slideme.length)return!1;if(this.settings.nativeTouchScroll?(this.settings.swipe=!1,this.dom.slideme.addClass("slideme-touch").on("touchend",this.onTouchend),this.settings.autoslide&&this.dom.slideme.addClass("slideme-touch").on("touchstart",this.removeAutoslide),t(window).on("resize.orientationchange",this.onOrientationchange)):this.dom.slideme.addClass("slideme-"+this.settings.transition),this.settings.itemsForSlide>1)for(var i=this.dom.slideme.children(),s=this.settings.itemsForSlide,n=0,o=i.length;n<o;n+=s)i.slice(n,n+s).wrapAll("<li class='new'/>");if(this.browser=this.getBrowser(),this.counters={current:0,index:0,next:0,total:this.getTotalSlides()},0===this.counters.total?this.dom.slideme_container.addClass("single"):this.counters.total,this.settings.css3&&!this.css3Supports()&&(this.settings.css3=!1,"zoom"===this.settings.transition&&this.dom.slideme.removeClass("slideme-zoom").addClass("slideme-slide")),this.settings.arrows){var r=this.settings.nativeTouchScroll?this.arrowTaped:this.arrowClicked,a=this.createArrows(r);this.dom.arrows=a}this.settings.arrows&&!this.settings.loop&&this.checkArrows(),this.settings.pagination&&this.createPagination(),this.settings.autoslide&&this.settings.autoslideHoverStop&&0!==this.counters.total&&this.dom.slideme_container.on("mouseenter",this.removeAutoslide).on("mouseleave",this.resetAutoslide),this.settings.resizable.width&&this.settings.resizable.height&&(this.resize=t(window).on("resize",this.onResize),this.onResize()),this.settings.onCreatedCallback&&this.settings.onCreatedCallback({instance:this.dom.slideme_container,index:this.counters.current}),this.settings.swipe&&this.swipeSupport()&&(this.swipe={startX:0,startY:0,endX:0,endY:0,deltaX:0,deltaY:0},this.setSwipe()),this.setCurrent(),this.settings.loop&&this.settings.nativeTouchScroll?(this.setStartOrder(),this.setInfiniteSlides()):this.settings.nativeTouchScroll||0===this.counters.total||this.setSibling(),this.working=!1,this.settings.autoslide&&0!==this.counters.total&&this.setAutoslide()},animate:function(t){if(this.counters.current!==this.counters.next)if(this.working=!0,this.animation=1===t.direction?"nextClicked":"prevClicked",this.setNext(),this.settings.onStartCallback&&this.settings.onStartCallback({instance:this.dom.slideme_container,index:this.counters.current,total:this.counters.total,next:this.counters.next}),1===t.direction?this.dom.slideme.children().removeClass("before"):this.dom.slideme.children().removeClass("after"),this.redraw(this.dom.next),this.settings.css3)this.dom.current.one("otransitionend webkitTransitionEnd transitionend",this.onAnimationEnded),this.dom.slideme.addClass(this.animation);else{var e={},i={};switch(this.settings.transition){case"fade":e.opacity=0,i.opacity=1;break;case"page":i.left="0%";break;default:e.left=-100*t.direction+"%",i.left=0;break}this.dom.current.stop(!0,!1).animate(e,this.speed),this.dom.next.stop(!0,!1).animate(i,this.speed,this.onAnimationEnded)}},arrowClicked:function(t){if(!this.working){var e=t.data.direction;this.counters.next=this.getNext(e),this.animate({direction:e}),this.settings.swipe&&this.swipeSupport()&&this.settings.autoslide&&this.removeAutoslide(),t.preventDefault()}},arrowTaped:function(t){if(!this.working){var e,i=t.data.direction;this.settings.loop?(this.counters.index=this.counters.index+i,e=this.counters.current+i):e=this.getNext(i),this.settings.autoslide&&this.removeAutoslide(),this.scrollTo(e),t.preventDefault()}},beforeScrollTo:function(t){if(this.settings.loop){var e=this.getInfinitePaginationIndex();this.clearFromClone(e),this.restoreStartOrder(e),this.counters.index=t.data.index}this.settings.autoslide&&this.removeAutoslide(),this.scrollTo(t)},checkArrows:function(){this.counters.current===this.counters.total?this.dom.arrows.next.attr({disabled:"disabled"}):this.dom.arrows.next.removeAttr("disabled"),0===this.counters.current?this.dom.arrows.prev.attr({disabled:"disabled"}):this.dom.arrows.prev.removeAttr("disabled")},clearFromClone:function(){this.dom.slideme.children().removeClass("original").filter(".clone").remove();var t=this.dom.current.position().left+this.dom.slideme.scrollLeft();this.dom.slideme.scrollLeft(t)},createArrows:function(e){var i={};for(key in this.settings.labels){var s={direction:"next"===key?1:-1,key:key},n=t('<button class="arrow" />').addClass(key).html(this.settings.labels[key]).on("click",s,e);i[key]=n,this.dom.slideme_container.append(i[key])}return i},createNumbers:function(e){for(var i=[],s=0,n=this.counters.total;s<=n;s++){var o={index:s},r=t("<li/>").on("click",o,e);i.push(r)}return i},createPagination:function(e){if(this.dom.slideme_pagination=t('<nav class="pagination"/>'),"numbers"===this.settings.pagination||"both"===this.settings.pagination){var i=t('<ol class="numbers" />'),s=(e=this.settings.nativeTouchScroll?this.beforeScrollTo:this.playTo,this.createNumbers(e));i.append(s.slice()),this.dom.slideme_pagination.append(i)}if("thumbs"===this.settings.pagination||"both"===this.settings.pagination){var n=t('<ol class="thumbs" />'),o=(e=this.settings.nativeTouchScroll?this.beforeScrollTo:this.playTo,this.createThumbs(e));n.append(o.slice()),this.dom.slideme_pagination.append(n)}this.dom.slideme_container.append(this.dom.slideme_pagination),this.setPaginationCurrent(this.counters.current)},createThumbs:function(e){var i=[],s=this.settings.thumbs.width,n=this.settings.thumbs.height;return this.dom.slideme.find(">*").each((function(o){var r={index:o},a=t(this).find("img").eq(0).attr("src"),h=t("<img />").attr({src:a,width:s,height:n}),d=t("<li/>").html(h).on("click",r,e);i.push(d)})),i},css3Supports:function(){var t=(document.body||document.documentElement).style;if("string"==typeof t[i="transition"])return!0;for(var e=["Moz","Webkit","Khtml","O","ms"],i=i.charAt(0).toUpperCase()+i.substr(1),s=0,n=e.length;s<n;s++)if("string"==typeof t[e[s]+i])return!0;return!1},destroy:function(){this.dom.slideme_container.removeClass("slideme_container single").removeData(),this.dom.slideme.removeClass("slideme-"+this.settings.transition),this.settings.pagination&&this.dom.slideme_pagination.remove(),this.settings.arrows&&(this.dom.arrows.next.prev(),this.dom.arrows.next.remove()),this.settings.resizable.width&&this.settings.resizable.height&&(this.dom.slideme.css({height:"auto"}),this.resize=null),this.settings.autoslide&&this.removeAutoslide()},getBrowser:function(){var t=navigator.userAgent;switch(!0){case t.lastIndexOf("MSIE")>0:return"MSIE";break;case t.lastIndexOf("Chrome")>0:return"Chrome";break;case t.lastIndexOf("Firefox")>0:return"Firefox";break;case t.lastIndexOf("Safari")>0:return"Safari";break;default:return""}},getInfinitePaginationIndex:function(){return this.counters.index>=0&&this.counters.index<=this.counters.total||this.counters.index<0&&this.counters.index>=-this.counters.total?this.counters.index:this.counters.index%(this.counters.total+1)},getNext:function(t){var e=this.counters.current+t;switch(!0){case e>this.counters.total&&this.settings.loop:e=0;break;case e<0&&this.settings.loop:e=this.counters.total;break;case e>this.counters.total&&!this.settings.loop||e<0&&!this.settings.loop:e=this.counters.current;break}return e},getNextById:function(t){return this.dom.slideme.find(t).index()},getReadyForNewAnimation:function(){if(this.dom.slideme.children().removeClass("current next after before"),this.settings.nativeTouchScroll?this.settings.nativeTouchScroll&&!this.settings.loop?this.setCurrent():this.settings.nativeTouchScroll&&this.settings.loop&&(this.setCurrent(),this.setInfiniteSlides()):(this.counters.current=this.counters.next,this.setCurrent(),this.setSibling()),!this.settings.loop&&this.settings.arrows&&this.checkArrows(),this.settings.pagination&&this.settings.nativeTouchScroll&&this.settings.loop){var t=this.getInfinitePaginationIndex();this.setPaginationCurrent(t)}else this.settings.pagination&&this.setPaginationCurrent(this.counters.current);this.settings.onEndCallback&&this.settings.onEndCallback({instance:this.dom.slideme_container,index:this.counters.current,total:this.counters.total}),this.working=!1,(this.settings.autoslide&&!this.pause||this.settings.autoslide&&this.settings.swipe&&this.swipeSupport())&&this.setAutoslide()},getTotalSlides:function(){return this.dom.slideme.children().length-1},inquire:function(){this.settings.onInquire&&this.settings.onInquire({instance:this.dom.slideme_container,index:this.counters.current,total:this.counters.total,version:"2.21.36"})},jumpTo:function(t){clearTimeout(this.timer),this.counters.next=t,this.getReadyForNewAnimation()},jumpToId:function(t){clearTimeout(this.timer);var e=this.getNextById(t);this.counters.next=e,this.getReadyForNewAnimation()},onAnimationEnded:function(t){this.settings.css3?(this.dom.current.off("otransitionend webkitTransitionEnd transitionend"),this.dom.slideme.removeClass(this.animation)):this.dom.slideme.children().removeAttr("style"),this.getReadyForNewAnimation()},onOrientationchange:function(){this.settings.autoslide&&this.removeAutoslide(),this.scrollTo(this.counters.current)},onResize:function(){var t=this.settings.resizable.width,e=this.settings.resizable.height,i=Math.round(e*this.dom.slideme.width()/t);this.dom.slideme.css({height:i})},onTouchend:function(t){if(!this.working){var e=t.currentTarget.scrollLeft,i=Math.round(this.dom.current.width()/1.3),s=this.dom.current.next(),n=this.dom.current.prev(),o=s.length?Math.abs(s.position().left+e):0,r=n.length?Math.abs(n.position().left+e):0,a=Math.abs(this.dom.current.position().left+e);e>=o-i&&(this.settings.loop||!this.settings.loop&&this.counters.current!==this.counters.total)?(this.counters.current=this.counters.current+1,this.counters.index=this.counters.index+1,e=o):e<=r+i&&(this.settings.loop||!this.settings.loop&&0!==this.counters.current)?(this.counters.current=this.counters.current-1,this.counters.index=this.counters.index-1,e=r):e=a,this.working=!0,this.dom.slideme.addClass("snapping"),this.redraw(this.dom.slideme),this.snapTo(e)}},onSnapEnd:function(t){this.dom.slideme.removeClass("snapping"),this.pause=!1,this.getReadyForNewAnimation()},onSwipeEnd:function(t){this.settings.autoslide&&this.setAutoslide()},onWindowScroll:function(t){this.working&&(this.onAnimationEnded(),t.preventDefault())},play:function(t){this.pause=!1,this.setAutoslide()},playTo:function(t){var e=void 0!==t.data?t.data.index:t;if(!this.working&&e!==this.counters.current&&e<=this.counters.total){var i=e>this.counters.current?1:-1;i>0?this.setAfter(e):this.setBefore(e),this.counters.next=e,this.settings.autoslide&&clearTimeout(this.timer),this.settings.nativeTouchScroll?this.scrollTo(e):this.animate({direction:i})}},playToId:function(t){var e=this.getNextById(t);this.playTo(e),this.settings.autoslide&&clearTimeout(this.timer)},redraw:function(t){t.each((function(){this.offsetHeight}))},removeAutoslide:function(){this.pause=!0,clearTimeout(this.timer)},resetAutoslide:function(){this.pause=!1,this.setAutoslide()},restoreStartOrder:function(e){var i,s=this.dom.slideme.children().detach();s.sort((function(e,i){return t(e).data("index")>t(i).data("index")?1:-1})),this.counters.index=this.counters.current,this.dom.slideme.append(s),i=this.dom.slideme.children().eq(e).position().left+this.dom.slideme.scrollLeft(),this.dom.slideme.scrollLeft(i)},scrollTo:function(t){var e=void 0!==t.data?t.data.index:t,i=this.dom.slideme.children().eq(e).position().left+this.dom.slideme.scrollLeft();this.counters.current=e,this.settings.onStartCallback&&this.settings.onStartCallback({instance:this.dom.slideme_container,index:this.counters.current,total:this.counters.total,next:this.counters.current}),this.snapTo(i)},setAfter:function(t){var e=this.dom.slideme.children().removeClass("after before").eq(t).addClass("after");this.redraw(e)},setAutoslide:function(){if(!this.working&&(this.settings.loop||!this.settings.loop&&(this.counters.current!==this.counters.total&&1===this.settings.direction||0!==this.counters.current&&-1===this.settings.direction))){var t=this.settings.direction,e=this.settings.interval,i=this.settings.nativeTouchScroll?this.scrollTo:this.animate;if(this.pause=!1,this.counters.next=this.getNext(t),this.settings.nativeTouchScroll){var s=this.settings.loop?this.counters.current+t:this.getNext(t);this.timer=setTimeout((function(){i(s)}),e)}else this.timer=setTimeout((function(){i({direction:t})}),e)}},setBefore:function(t){var e=this.dom.slideme.children().removeClass("after before").eq(t).addClass("before");this.redraw(e)},setCurrent:function(){this.dom.current=this.dom.slideme.children().eq(this.counters.current).addClass("current"),this.redraw(this.dom.current)},setInfiniteSlides:function(){if(1!==this.counters.total)if(this.dom.current.next().length){if(!this.dom.current.prev().length){t=this.dom.slideme.children(":last-child").detach();this.counters.current=this.counters.current+1,this.dom.slideme.prepend(t)}}else{var t=this.dom.slideme.children(":first-child").detach();this.counters.current=this.counters.current-1,this.dom.slideme.append(t)}else{var e=this.dom.slideme.children().filter(".clone"),i=this.dom.slideme.children().filter(".original");e.is(".current")&&(i.addClass("current"),this.dom.current=i),e.length&&(i.removeClass("original"),e.removeClass("clone current").remove()),e=(i=this.dom.slideme.children().filter(':not(".current")')).clone().addClass("clone"),i.addClass("original"),this.counters.current=1,this.dom.current.next().length?this.dom.current.prev().length||this.dom.slideme.prepend(e):this.dom.slideme.append(e)}var s=this.dom.slideme.children().eq(this.counters.current).position().left+this.dom.slideme.scrollLeft();this.dom.slideme.scrollLeft(s)},setNext:function(){this.dom.next=this.dom.slideme.children().eq(this.counters.next).addClass("next"),this.redraw(this.dom.next)},setPaginationCurrent:function(t){this.dom.slideme_pagination.find("li").removeClass("current"),this.dom.slideme_pagination.find("ol.numbers li").eq(t).addClass("current"),this.dom.slideme_pagination.find("ol.thumbs li").eq(t).addClass("current")},setSibling:function(){var t=this.counters.current+1>this.counters.total?0:this.counters.current+1,e=this.counters.current-1;this.dom.after=this.dom.slideme.children().eq(t).addClass("after"),this.dom.before=this.dom.slideme.children().eq(e).addClass("before")},setStartOrder:function(){var e=this.dom.slideme.children();t.each(e,(function(e){t(this).data("index",e)}))},setSwipe:function(){this.dom.slideme.on("touchstart",this.setSwipeStart),this.dom.slideme.on("touchmove",this.setSwipeMove),this.dom.slideme.on("touchend",this.setSwipeEnd),"Safari"===this.browser&&this.settings.css3&&t(window).on("scroll",this.onWindowScroll)},setSwipeEnd:function(){this.pause&&!this.working&&this.swipeTo()},setSwipeMove:function(t){var e=t.originalEvent.touches[0];this.pause&&!this.working&&e&&(this.swipe.deltaX=this.swipe.startX-e.pageX,this.swipe.deltaY=this.swipe.startY-e.pageY,Math.abs(this.swipe.deltaX)>30&&t.preventDefault())},setSwipeStart:function(t){var e=t.originalEvent.touches[0];this.pause||this.working||!e||(this.pause=!0,this.swipe.deltaX=0,this.swipe.deltaY=0,this.swipe.startX=e.pageX,this.swipe.startY=e.pageY,this.settings.autoslide&&this.removeAutoslide())},snapTo:function(t){var e=Math.round(350+Math.abs(10*(this.counters.next-this.counters.current)));this.dom.slideme.stop(!0,!1).animate({scrollLeft:t},e,this.onSnapEnd)},stop:function(){this.pause=!0,this.removeAutoslide()},swipeSupport:function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0},swipeTo:function(t,e){if(!this.working&&Math.abs(this.swipe.deltaX)>30&&Math.abs(this.swipe.deltaY)<75){this.working=!0,this.pause=!1;var i=this.swipe.deltaX>0?1:-1;this.counters.next=this.getNext(i),this.animate({direction:i})}else!this.working&&this.pause&&this.resetAutoslide()},update:function(){this.counters.total=this.getTotalSlides(),this.settings.pagination&&(this.dom.slideme_pagination.remove(),this.createPagination()),!this.settings.loop&&this.settings.arrows&&this.checkArrows()}}),o}(),t.fn.slideme=function(i){return this.each((function(){if(this.instance||-1!==t.inArray(i,n))if(this.instance&&-1!==t.inArray(i,n))switch(i){case"destroy":this.instance.destroy(),delete this.instance;break;default:this.instance[i](arguments[1]);break}else{if(!this.instance||-1!==t.inArray(i,n))return!1;this.instance.update()}else this.instance=new e(i||{}),this.instance.init(this);return this}),arguments)}}(jQuery);